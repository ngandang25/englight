import{a as z}from"./chunk-CUXPMXL4.js";import{a as K,b as G,c as J}from"./chunk-ENNJ2CVW.js";import{A as F,Ba as A,H as p,J as d,K as C,L as o,M as i,N as E,Na as L,O as y,Oa as D,Q as v,Qa as N,R as s,Sa as V,Ta as k,Xa as B,Y as l,Ya as $,Z as u,Za as q,_ as h,_a as Q,aa as b,ab as R,ba as S,bb as j,ca as P,ea as I,j as M,ja as H,ka as T,la as W,o as O,p as w,s as f,t as x,z as n}from"./chunk-HRAH3HA5.js";function Z(t,c){if(t&1&&(o(0,"option",15),l(1),i()),t&2){let e=c.$implicit;d("value",e.value),n(),h(" ",e.label," ")}}function ee(t,c){if(t&1&&(o(0,"option",15),l(1),i()),t&2){let e=c.$implicit;d("value",e),n(),h(" ",e," ")}}function te(t,c){if(t&1){let e=y();o(0,"li",16),v("click",function(){let r=f(e).$implicit,m=s(2);return x(m.selectWord(r))}),l(1),i()}if(t&2){let e=c.$implicit,a=s(2);C("selected",e===a.selectedWord),n(),h(" ",e," ")}}function ie(t,c){if(t&1&&(o(0,"div")(1,"h3"),l(2,"10 t\u1EEB v\u1EF1ng theo l\u1EF1a ch\u1ECDn"),i(),o(3,"ul"),p(4,te,2,3,"li",11),i()()),t&2){let e=s();n(4),d("ngForOf",e.searchedWords)}}function ne(t,c){t&1&&(o(0,"div"),l(1,"\u0110ang t\xECm ki\u1EBFm t\u1EEB v\u1EF1ng..."),i())}function oe(t,c){if(t&1&&(o(0,"div",17),l(1),i()),t&2){let e=s();n(),u(e.searchError)}}function re(t,c){if(t&1){let e=y();o(0,"li",16),v("click",function(){let r=f(e).$implicit,m=s();return x(m.selectWord(r))}),l(1),i()}if(t&2){let e=c.$implicit,a=s();C("selected",e===a.selectedWord),n(),h(" ",e," ")}}function ae(t,c){t&1&&(o(0,"div"),l(1,"\u0110ang t\u1EA3i..."),i())}function le(t,c){if(t&1&&(o(0,"li")(1,"p"),l(2),i(),E(3,"p"),o(4,"p",20),l(5),i()()),t&2){let e=c.$implicit;n(2),u(e.english),n(3),u(e.vietnamese)}}function ce(t,c){if(t&1&&(o(0,"div")(1,"b"),l(2,"C\xE2u v\xED d\u1EE5:"),i(),o(3,"ul"),p(4,le,6,2,"li",19),i()()),t&2){let e=s(3);n(4),d("ngForOf",e.wordDetail.examples)}}function de(t,c){if(t&1&&(o(0,"div")(1,"p")(2,"b"),l(3,"Ngh\u0129a:"),i(),l(4),i(),p(5,ce,5,1,"div",7),i()),t&2){let e=s(2);n(4),h(" ",e.wordDetail.meaning,""),n(),d("ngIf",e.wordDetail.examples==null?null:e.wordDetail.examples.length)}}function me(t,c){if(t&1&&(o(0,"div",17),l(1),i()),t&2){let e=s(2);n(),u(e.error)}}function se(t,c){if(t&1&&(o(0,"div",18)(1,"h3"),l(2),i(),p(3,ae,2,0,"div",7)(4,de,6,2,"div",7)(5,me,2,1,"div",8),i()),t&2){let e=s();n(2),u(e.selectedWord),n(),d("ngIf",e.loading),n(),d("ngIf",!e.loading&&e.wordDetail),n(),d("ngIf",!e.loading&&e.error)}}function pe(t,c){if(t&1&&(o(0,"div",18)(1,"p"),l(2),i()()),t&2){let e=s();n(2),u(e.dailyQuote)}}var U=(()=>{class t{constructor(e){this.geminiService=e,this.dailyWords=[],this.selectedWord=null,this.wordDetail=null,this.loading=!1,this.error="",this.dailyQuote="",this.levels=[{value:"beginner",label:"Beginner"},{value:"elementary",label:"Elementary"},{value:"pre-intermediate",label:"Pre-Intermediate"},{value:"intermediate",label:"Intermediate"},{value:"upper-intermediate",label:"Upper-Intermediate"},{value:"advanced",label:"Advanced"}],this.topics=["Family","Travel","Work","Education","Health","Technology","Food","Environment","Sports","Culture"],this.selectedLevel=this.levels[4].value,this.selectedTopic=this.topics[3],this.searchedWords=[],this.searchLoading=!1,this.searchError=""}ngOnInit(){this.getWords(),this.getQuotation()}searchVocab(){this.getWords(),this.getQuotation()}getWords(){let e=`H\xE3y cung c\u1EA5p 10 t\u1EEB ti\u1EBFng Anh ${this.selectedLevel} v\u1EC1 ch\u1EE7 \u0111\u1EC1 "${this.selectedTopic}", m\u1ED7i t\u1EEB tr\xEAn m\u1ED9t d\xF2ng. Ch\u1EC9 tr\u1EA3 v\u1EC1 danh s\xE1ch c\xE1c t\u1EEB, kh\xF4ng gi\u1EA3i th\xEDch.`;this.geminiService.generateContent(e).subscribe({next:a=>{let r=a?.candidates?.[0]?.content?.parts?.[0]?.text||"";this.dailyWords=r.split(`
`).map(m=>m.trim()).filter(m=>m),this.selectedWord=null,this.wordDetail=null,this.error="",this.selectWord(this.dailyWords[0])},error:a=>{this.error="L\u1ED7i: "+(a?.error?.error?.message||a.message||"Kh\xF4ng x\xE1c \u0111\u1ECBnh")}})}selectWord(e){this.selectedWord=e,this.wordDetail=null,this.error="",this.loading=!0;let a=`H\xE3y cho bi\u1EBFt ngh\u0129a ti\u1EBFng Vi\u1EC7t c\u1EE7a t\u1EEB "${e}" v\xE0 2 c\xE2u v\xED d\u1EE5 s\u1EED d\u1EE5ng t\u1EEB \u0111\xF3 trong ti\u1EBFng Anh (c\xF3 d\u1ECBch ngh\u0129a ti\u1EBFng Vi\u1EC7t cho m\u1ED7i c\xE2u). Tr\u1EA3 v\u1EC1 k\u1EBFt qu\u1EA3 d\u1EA1ng JSON v\u1EDBi 2 tr\u01B0\u1EDDng: meaning (ngh\u0129a ti\u1EBFng Vi\u1EC7t), examples (m\u1EA3ng c\xE1c c\xE2u v\xED d\u1EE5, m\u1ED7i c\xE2u g\u1ED3m ti\u1EBFng Anh v\xE0 ti\u1EBFng Vi\u1EC7t).`;this.geminiService.generateContent(a).subscribe({next:r=>{try{let g=(r?.candidates?.[0]?.content?.parts?.[0]?.text||"").match(/\{[\s\S]*\}/);if(g){let _=JSON.parse(g[0]);this.wordDetail={meaning:_.meaning,examples:Array.isArray(_.examples)?_.examples:[]}}else this.error="Kh\xF4ng t\xECm th\u1EA5y d\u1EEF li\u1EC7u ph\xF9 h\u1EE3p."}catch{this.error="L\u1ED7i x\u1EED l\xFD d\u1EEF li\u1EC7u."}this.loading=!1},error:r=>{this.error="L\u1ED7i: "+(r?.error?.error?.message||r.message||"Kh\xF4ng x\xE1c \u0111\u1ECBnh"),this.loading=!1}})}getQuotation(){let e=`H\xE3y cho m\u1ED9t \u0111o\u1EA1n v\u0103n t\u1EEB 7-10 c\xE2u ti\u1EBFng Anh ${this.selectedLevel} v\u1EC1 ch\u1EE7 \u0111\u1EC1 "${this.selectedTopic}". `;this.geminiService.generateContent(e).subscribe({next:a=>{try{this.dailyQuote=a?.candidates?.[0]?.content?.parts?.[0]?.text||""}catch{this.error="L\u1ED7i x\u1EED l\xFD d\u1EEF li\u1EC7u."}this.loading=!1},error:a=>{this.error="L\u1ED7i: "+(a?.error?.error?.message||a.message||"Kh\xF4ng x\xE1c \u0111\u1ECBnh"),this.loading=!1}})}static{this.\u0275fac=function(a){return new(a||t)(F(K))}}static{this.\u0275cmp=O({type:t,selectors:[["app-home-page"]],standalone:!0,features:[I],decls:31,vars:10,consts:[[1,"section","form-section"],[1,"intro"],[1,"vocab-search-form",3,"ngSubmit"],["name","level","required","",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["name","topic","required","",3,"ngModelChange","ngModel"],["type","submit",1,"button"],[4,"ngIf"],["class","error",4,"ngIf"],[1,"section"],[1,"daily-vocab"],[3,"selected","click",4,"ngFor","ngForOf"],["class","details",4,"ngIf"],[1,"daily-quote"],[1,"quote-author"],[3,"value"],[3,"click"],[1,"error"],[1,"details"],[4,"ngFor","ngForOf"],[1,"example-translation"]],template:function(a,r){a&1&&(o(0,"div",0)(1,"p",1)(2,"strong"),l(3,"H\xE3y b\u1EAFt \u0111\u1EA7u b\u1EB1ng c\xE1ch t\xECm ki\u1EBFm t\u1EEB v\u1EF1ng theo c\u1EA5p \u0111\u1ED9 v\xE0 ch\u1EE7 \u0111\u1EC1 b\u1EA1n mu\u1ED1n."),i()(),o(4,"form",2),v("ngSubmit",function(){return r.searchVocab()}),o(5,"label"),l(6," Level: "),o(7,"select",3),P("ngModelChange",function(g){return S(r.selectedLevel,g)||(r.selectedLevel=g),g}),p(8,Z,2,2,"option",4),i()(),o(9,"label"),l(10," Subject: "),o(11,"select",5),P("ngModelChange",function(g){return S(r.selectedTopic,g)||(r.selectedTopic=g),g}),p(12,ee,2,2,"option",4),i()(),o(13,"button",6),l(14,"Search"),i()(),p(15,ie,5,1,"div",7)(16,ne,2,0,"div",7)(17,oe,2,1,"div",8),i(),o(18,"div",9)(19,"div",10)(20,"h2"),l(21,"H\u1ECDc 10 t\u1EEB v\u1EF1ng h\xF4m nay"),i(),o(22,"ul"),p(23,re,2,3,"li",11),i()(),p(24,se,6,4,"div",12),i(),o(25,"div",9)(26,"div",13)(27,"h2"),l(28,"\u0110o\u1EA1n v\u0103n h\xF4m nay"),i(),p(29,pe,3,1,"div",12),i(),E(30,"div",14),i()),a&2&&(n(7),b("ngModel",r.selectedLevel),n(),d("ngForOf",r.levels),n(3),b("ngModel",r.selectedTopic),n(),d("ngForOf",r.topics),n(3),d("ngIf",r.searchedWords.length),n(),d("ngIf",r.searchLoading),n(),d("ngIf",r.searchError),n(6),d("ngForOf",r.dailyWords),n(),d("ngIf",r.selectedWord),n(5),d("ngIf",r.dailyQuote))},dependencies:[W,H,T,R,k,$,q,B,L,D,Q,V,N,j,z],styles:[".form-section[_ngcontent-%COMP%]   .intro[_ngcontent-%COMP%]{font-size:1.2rem;color:#000;margin-bottom:1rem}.form-section[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:20px}.form-section[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{margin-left:8px}.daily-vocab[_ngcontent-%COMP%]{margin:2rem 0}.daily-vocab[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem;list-style:none;padding:0}.daily-vocab[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background:#ead6ef;color:#a90cba;font-size:18px;padding:.5rem 1.2rem;border-radius:20px;cursor:pointer;font-weight:500;transition:background .2s,color .2s;border:2px solid transparent}.daily-vocab[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%], .daily-vocab[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background:#cb7fdc;color:#fff;border:2px solid #954eb9}.details[_ngcontent-%COMP%]{margin-top:2rem;padding:1.5rem;border-radius:12px;border:1px solid #e6d6ef;margin-left:auto;margin-right:auto;font-size:1.1rem;box-shadow:0 2px 8px #0000000f}.daily-quote[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{font-size:18px;line-height:24px}.error[_ngcontent-%COMP%]{color:#d32f2f;margin-top:1rem}"]})}}return t})();var X=[{path:"",component:J,canActivate:[G],children:[{path:"",component:U}]}];var Me=(()=>{class t{static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275mod=w({type:t})}static{this.\u0275inj=M({imports:[A.forChild(X)]})}}return t})();export{Me as HomeModule};
