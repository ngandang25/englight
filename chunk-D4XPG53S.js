import{a as $}from"./chunk-CUXPMXL4.js";import{a as H,b as Q,c as U}from"./chunk-ENNJ2CVW.js";import{A as I,Ba as T,H as u,J as l,Ka as j,L as i,M as n,N as M,Na as w,Oa as F,Pa as P,Q as v,Qa as V,R as c,Ra as C,Sa as L,Ta as B,Va as R,Wa as K,Xa as k,Y as a,Ya as q,Z as g,Za as G,_ as h,_a as W,aa as x,ab as z,ba as _,bb as J,ca as E,ea as O,j as b,ja as A,ka as N,la as f,o as S,p as D,z as r}from"./chunk-HRAH3HA5.js";function tt(t,m){if(t&1&&(i(0,"p")(1,"b"),a(2,"T\u1EEB lo\u1EA1i:"),n(),a(3),n()),t&2){let e=c(3);r(3),h(" ",e.resultObj.type,"")}}function et(t,m){if(t&1&&(i(0,"p")(1,"b"),a(2,"Phi\xEAn \xE2m:"),n(),a(3),n()),t&2){let e=c(3);r(3),h(" ",e.resultObj.pronunciation," ")}}function nt(t,m){if(t&1&&(i(0,"li")(1,"p"),a(2),n(),i(3,"p",18),a(4),n()()),t&2){let e=m.$implicit;r(2),g(e.english),r(2),g(e.vietnamese)}}function it(t,m){if(t&1&&(i(0,"div")(1,"b"),a(2,"C\xE2u v\xED d\u1EE5:"),n(),i(3,"ul"),u(4,nt,5,2,"li",17),n()()),t&2){let e=c(3);r(4),l("ngForOf",e.resultObj.examples)}}function rt(t,m){if(t&1&&(i(0,"div")(1,"p")(2,"b"),a(3,"Ngh\u0129a:"),n(),a(4),n(),u(5,tt,4,1,"p",16)(6,et,4,1,"p",16)(7,it,5,1,"div",16),n()),t&2){let e=c(2);r(4),h(" ",e.resultObj.meaning,""),r(),l("ngIf",e.resultObj.type),r(),l("ngIf",e.resultObj.pronunciation),r(),l("ngIf",e.resultObj.examples==null?null:e.resultObj.examples.length)}}function at(t,m){if(t&1&&(i(0,"div"),a(1),n()),t&2){let e=c(2);r(),g(e.result)}}function ot(t,m){if(t&1&&(i(0,"div",15)(1,"h3"),a(2,"K\u1EBFt qu\u1EA3:"),n(),u(3,rt,8,4,"div",16)(4,at,2,1,"div",16),n()),t&2){let e=c();r(3),l("ngIf",e.resultObj),r(),l("ngIf",!e.resultObj)}}function pt(t,m){if(t&1&&(i(0,"div",15)(1,"h3"),a(2,"K\u1EBFt qu\u1EA3 d\u1ECBch \u0111o\u1EA1n v\u0103n:"),n(),i(3,"div"),a(4),n()()),t&2){let e=c();r(4),g(e.paragraphResult)}}function lt(t,m){if(t&1&&(i(0,"div",19),a(1),n()),t&2){let e=c();r(),g(e.paragraphError)}}var X=(()=>{class t{constructor(e){this.geminiService=e,this.form=new P({input:new C(""),direction:new C("en-vi")}),this.result="",this.loading=!1,this.resultObj=null,this.paragraphInput="",this.paragraphDirection="en-vi",this.paragraphResult="",this.paragraphLoading=!1,this.paragraphError=""}translate(){this.resultObj=null;let e=this.form.value.input?.trim(),p=this.form.value.direction;if(!e)return;this.loading=!0,this.result="";let o="";p==="en-vi"?o=`D\u1ECBch t\u1EEB ti\u1EBFng Anh sang ti\u1EBFng Vi\u1EC7t: "${e}". Tr\u1EA3 v\u1EC1 k\u1EBFt qu\u1EA3 d\u1EA1ng JSON v\u1EDBi c\xE1c tr\u01B0\u1EDDng: meaning (ngh\u0129a ti\u1EBFng Vi\u1EC7t), type (t\u1EEB lo\u1EA1i), pronunciation (phi\xEAn \xE2m IPA), examples (m\u1EA3ng 2 object g\u1ED3m english: c\xE2u v\xED d\u1EE5 ti\u1EBFng Anh, vietnamese: d\u1ECBch ngh\u0129a ti\u1EBFng Vi\u1EC7t). Kh\xF4ng gi\u1EA3i th\xEDch th\xEAm.`:o=`D\u1ECBch t\u1EEB ti\u1EBFng Vi\u1EC7t sang ti\u1EBFng Anh: "${e}". Tr\u1EA3 v\u1EC1 k\u1EBFt qu\u1EA3 d\u1EA1ng JSON v\u1EDBi c\xE1c tr\u01B0\u1EDDng: meaning (ngh\u0129a ti\u1EBFng Anh), type (t\u1EEB lo\u1EA1i), pronunciation (phi\xEAn \xE2m IPA), examples (m\u1EA3ng 2 object g\u1ED3m english: c\xE2u v\xED d\u1EE5 ti\u1EBFng Anh, vietnamese: d\u1ECBch ngh\u0129a ti\u1EBFng Vi\u1EC7t). Kh\xF4ng gi\u1EA3i th\xEDch th\xEAm.`,this.geminiService.generateContent(o).subscribe({next:d=>{try{let s=d?.candidates?.[0]?.content?.parts?.[0]?.text||"",y=s.match(/\{[\s\S]*\}/);y?this.resultObj=JSON.parse(y[0]):this.result=s}catch{this.result="L\u1ED7i x\u1EED l\xFD d\u1EEF li\u1EC7u."}this.loading=!1},error:d=>{this.result="L\u1ED7i: "+(d?.error?.error?.message||d.message||"Kh\xF4ng x\xE1c \u0111\u1ECBnh"),this.loading=!1}})}translateParagraph(){if(!this.paragraphInput.trim())return;this.paragraphLoading=!0,this.paragraphResult="",this.paragraphError="";let e="";this.paragraphDirection==="en-vi"?e=`D\u1ECBch \u0111o\u1EA1n v\u0103n sau sang ti\u1EBFng Vi\u1EC7t, gi\u1EEF nguy\xEAn ng\u1EEF c\u1EA3nh v\xE0 \xFD ngh\u0129a: 
"""${this.paragraphInput}"""`:e=`D\u1ECBch \u0111o\u1EA1n v\u0103n sau sang ti\u1EBFng Anh, gi\u1EEF nguy\xEAn ng\u1EEF c\u1EA3nh v\xE0 \xFD ngh\u0129a: 
"""${this.paragraphInput}"""`,this.geminiService.generateContent(e).subscribe({next:p=>{this.paragraphResult=p?.candidates?.[0]?.content?.parts?.[0]?.text||"Kh\xF4ng c\xF3 k\u1EBFt qu\u1EA3.",this.paragraphLoading=!1},error:p=>{this.paragraphError="L\u1ED7i: "+(p?.error?.error?.message||p.message||"Kh\xF4ng x\xE1c \u0111\u1ECBnh"),this.paragraphLoading=!1}})}static{this.\u0275fac=function(p){return new(p||t)(I(H))}}static{this.\u0275cmp=S({type:t,selectors:[["app-dictionary"]],standalone:!0,features:[O],decls:30,vars:10,consts:[[1,"section"],[1,"translate-form",3,"ngSubmit","formGroup"],[1,"input-group","word-section"],["type","text","formControlName","input","placeholder","Nh\u1EADp t\u1EEB c\u1EA7n d\u1ECBch...",1,"search-input"],["formControlName","direction",1,"direction-select"],["value","en-vi"],["value","vi-en"],["type","submit",1,"button",3,"disabled"],["class","search-result",4,"ngIf"],[1,"translate-form",3,"ngSubmit"],[1,"input-group","paragraph-section"],["name","paragraphInput","rows","4","placeholder","Nh\u1EADp \u0111o\u1EA1n v\u0103n c\u1EA7n d\u1ECBch...","required","",1,"search-input",3,"ngModelChange","ngModel"],[1,"paragraph-controls"],["name","paragraphDirection",1,"direction-select",3,"ngModelChange","ngModel"],["class","error",4,"ngIf"],[1,"search-result"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"example-translation"],[1,"error"]],template:function(p,o){p&1&&(i(0,"div",0)(1,"h2"),a(2,"Kh\xE1m ph\xE1 kho t\xE0ng t\u1EEB v\u1EF1ng Anh - Vi\u1EC7t / Vi\u1EC7t - Anh"),n(),i(3,"form",1),v("ngSubmit",function(){return o.translate()}),i(4,"div",2),M(5,"input",3),i(6,"select",4)(7,"option",5),a(8,"Anh \u2192 Vi\u1EC7t"),n(),i(9,"option",6),a(10,"Vi\u1EC7t \u2192 Anh"),n()(),i(11,"button",7),a(12),n()()(),u(13,ot,5,2,"div",8),n(),i(14,"div",0)(15,"h2"),a(16,"D\u1ECBch \u0111o\u1EA1n v\u0103n"),n(),i(17,"form",9),v("ngSubmit",function(){return o.translateParagraph()}),i(18,"div",10)(19,"textarea",11),E("ngModelChange",function(s){return _(o.paragraphInput,s)||(o.paragraphInput=s),s}),n(),i(20,"div",12)(21,"select",13),E("ngModelChange",function(s){return _(o.paragraphDirection,s)||(o.paragraphDirection=s),s}),i(22,"option",5),a(23,"Anh \u2192 Vi\u1EC7t"),n(),i(24,"option",6),a(25,"Vi\u1EC7t \u2192 Anh"),n()(),i(26,"button",7),a(27),n()()()(),u(28,pt,5,1,"div",8)(29,lt,2,1,"div",14),n()),p&2&&(r(3),l("formGroup",o.form),r(8),l("disabled",o.loading),r(),h(" ",o.loading?"Translating...":"Translate"," "),r(),l("ngIf",o.result||o.resultObj),r(6),x("ngModel",o.paragraphInput),r(2),x("ngModel",o.paragraphDirection),r(5),l("disabled",o.paragraphLoading),r(),h(" ",o.paragraphLoading?"Translating...":"Translate"," "),r(),l("ngIf",o.paragraphResult),r(),l("ngIf",o.paragraphError))},dependencies:[f,A,N,J,B,q,G,j,k,w,F,W,R,K,$,z,L,V],styles:[".translate-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:start;margin:2rem 0}.input-group[_ngcontent-%COMP%]{display:flex;gap:.5rem;width:100%;max-width:700px}.search-input[_ngcontent-%COMP%]{flex:2;border:1px solid #ccc;border-radius:4px;font-size:1rem}.direction-select[_ngcontent-%COMP%]{flex:1;border:1px solid #ccc;border-radius:4px;font-size:1rem}.search-button[_ngcontent-%COMP%]{background:#1976d2;color:#fff;border:none;border-radius:4px;font-size:1rem;cursor:pointer}.search-button[_ngcontent-%COMP%]:disabled{background:#90caf9;cursor:not-allowed}.search-result[_ngcontent-%COMP%]{margin-top:16px;background:#fff;padding:1rem;border-radius:8px;margin-left:auto;margin-right:auto;font-size:1.1rem;border:1px solid #d88bf3}.paragraph-section[_ngcontent-%COMP%]{display:flex;flex-direction:column}.paragraph-section[_ngcontent-%COMP%]   .paragraph-controls[_ngcontent-%COMP%]{display:flex;margin-top:10px;gap:20px}"]})}}return t})();var Y=[{path:"",component:U,canActivate:[Q],children:[{path:"",component:X}]}];var bt=(()=>{class t{static{this.\u0275fac=function(p){return new(p||t)}}static{this.\u0275mod=D({type:t})}static{this.\u0275inj=b({imports:[f,T.forChild(Y)]})}}return t})();export{bt as DictionaryModule};
