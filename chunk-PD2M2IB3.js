import{b as N,c as V,e as k,g as A,h as B,l as $,m as q,n as Q,o as R,p as j,q as z}from"./chunk-WJ6KWSOG.js";import{A as p,C as d,D as C,E as o,F as i,G as E,H as y,I as v,J as m,K as l,L as u,M as h,O as S,P as b,Q as P,S as H,X as I,Y as T,Z as W,_ as D,fa as L,ha as K,i as M,ia as G,m as O,n as w,q as f,r as x,w as n,x as F}from"./chunk-QHTOEL3J.js";function Y(t,c){if(t&1&&(o(0,"option",15),l(1),i()),t&2){let e=c.$implicit;d("value",e.value),n(),h(" ",e.label," ")}}function Z(t,c){if(t&1&&(o(0,"option",15),l(1),i()),t&2){let e=c.$implicit;d("value",e),n(),h(" ",e," ")}}function ee(t,c){if(t&1){let e=y();o(0,"li",16),v("click",function(){let r=f(e).$implicit,s=m(2);return x(s.selectWord(r))}),l(1),i()}if(t&2){let e=c.$implicit,a=m(2);C("selected",e===a.selectedWord),n(),h(" ",e," ")}}function te(t,c){if(t&1&&(o(0,"div")(1,"h3"),l(2,"10 t\u1EEB v\u1EF1ng theo l\u1EF1a ch\u1ECDn"),i(),o(3,"ul"),p(4,ee,2,3,"li",11),i()()),t&2){let e=m();n(4),d("ngForOf",e.searchedWords)}}function ie(t,c){t&1&&(o(0,"div"),l(1,"\u0110ang t\xECm ki\u1EBFm t\u1EEB v\u1EF1ng..."),i())}function ne(t,c){if(t&1&&(o(0,"div",17),l(1),i()),t&2){let e=m();n(),u(e.searchError)}}function oe(t,c){if(t&1){let e=y();o(0,"li",16),v("click",function(){let r=f(e).$implicit,s=m();return x(s.selectWord(r))}),l(1),i()}if(t&2){let e=c.$implicit,a=m();C("selected",e===a.selectedWord),n(),h(" ",e," ")}}function re(t,c){t&1&&(o(0,"div"),l(1,"\u0110ang t\u1EA3i..."),i())}function ae(t,c){if(t&1&&(o(0,"li")(1,"p"),l(2),i(),E(3,"p"),o(4,"p",20),l(5),i()()),t&2){let e=c.$implicit;n(2),u(e.english),n(3),u(e.vietnamese)}}function le(t,c){if(t&1&&(o(0,"div")(1,"b"),l(2,"C\xE2u v\xED d\u1EE5:"),i(),o(3,"ul"),p(4,ae,6,2,"li",19),i()()),t&2){let e=m(3);n(4),d("ngForOf",e.wordDetail.examples)}}function ce(t,c){if(t&1&&(o(0,"div")(1,"p")(2,"b"),l(3,"Ngh\u0129a:"),i(),l(4),i(),p(5,le,5,1,"div",7),i()),t&2){let e=m(2);n(4),h(" ",e.wordDetail.meaning,""),n(),d("ngIf",e.wordDetail.examples==null?null:e.wordDetail.examples.length)}}function de(t,c){if(t&1&&(o(0,"div",17),l(1),i()),t&2){let e=m(2);n(),u(e.error)}}function se(t,c){if(t&1&&(o(0,"div",18)(1,"h3"),l(2),i(),p(3,re,2,0,"div",7)(4,ce,6,2,"div",7)(5,de,2,1,"div",8),i()),t&2){let e=m();n(2),u(e.selectedWord),n(),d("ngIf",e.loading),n(),d("ngIf",!e.loading&&e.wordDetail),n(),d("ngIf",!e.loading&&e.error)}}function me(t,c){if(t&1&&(o(0,"div",18)(1,"p"),l(2),i()()),t&2){let e=m();n(2),u(e.dailyQuote)}}var J=(()=>{class t{constructor(e){this.geminiService=e,this.dailyWords=[],this.selectedWord=null,this.wordDetail=null,this.loading=!1,this.error="",this.dailyQuote="",this.levels=[{value:"beginner",label:"Beginner"},{value:"elementary",label:"Elementary"},{value:"pre-intermediate",label:"Pre-Intermediate"},{value:"intermediate",label:"Intermediate"},{value:"upper-intermediate",label:"Upper-Intermediate"},{value:"advanced",label:"Advanced"}],this.topics=["Family","Travel","Work","Education","Health","Technology","Food","Environment","Sports","Culture"],this.selectedLevel=this.levels[0].value,this.selectedTopic=this.topics[0],this.searchedWords=[],this.searchLoading=!1,this.searchError=""}ngOnInit(){this.getWords(),this.getQuotation()}searchVocab(){this.getWords(),this.getQuotation()}getWords(){let e=`H\xE3y cung c\u1EA5p 10 t\u1EEB ti\u1EBFng Anh ${this.selectedLevel} v\u1EC1 ch\u1EE7 \u0111\u1EC1 "${this.selectedTopic}", m\u1ED7i t\u1EEB tr\xEAn m\u1ED9t d\xF2ng. Ch\u1EC9 tr\u1EA3 v\u1EC1 danh s\xE1ch c\xE1c t\u1EEB, kh\xF4ng gi\u1EA3i th\xEDch.`;this.geminiService.generateContent(e).subscribe({next:a=>{let r=a?.candidates?.[0]?.content?.parts?.[0]?.text||"";this.dailyWords=r.split(`
`).map(s=>s.trim()).filter(s=>s),this.selectedWord=null,this.wordDetail=null,this.error="",this.selectWord(this.dailyWords[0])},error:a=>{this.error="L\u1ED7i: "+(a?.error?.error?.message||a.message||"Kh\xF4ng x\xE1c \u0111\u1ECBnh")}})}selectWord(e){this.selectedWord=e,this.wordDetail=null,this.error="",this.loading=!0;let a=`H\xE3y cho bi\u1EBFt ngh\u0129a ti\u1EBFng Vi\u1EC7t c\u1EE7a t\u1EEB "${e}" v\xE0 2 c\xE2u v\xED d\u1EE5 s\u1EED d\u1EE5ng t\u1EEB \u0111\xF3 trong ti\u1EBFng Anh (c\xF3 d\u1ECBch ngh\u0129a ti\u1EBFng Vi\u1EC7t cho m\u1ED7i c\xE2u). Tr\u1EA3 v\u1EC1 k\u1EBFt qu\u1EA3 d\u1EA1ng JSON v\u1EDBi 2 tr\u01B0\u1EDDng: meaning (ngh\u0129a ti\u1EBFng Vi\u1EC7t), examples (m\u1EA3ng c\xE1c c\xE2u v\xED d\u1EE5, m\u1ED7i c\xE2u g\u1ED3m ti\u1EBFng Anh v\xE0 ti\u1EBFng Vi\u1EC7t).`;this.geminiService.generateContent(a).subscribe({next:r=>{try{let g=(r?.candidates?.[0]?.content?.parts?.[0]?.text||"").match(/\{[\s\S]*\}/);if(g){let _=JSON.parse(g[0]);this.wordDetail={meaning:_.meaning,examples:Array.isArray(_.examples)?_.examples:[]}}else this.error="Kh\xF4ng t\xECm th\u1EA5y d\u1EEF li\u1EC7u ph\xF9 h\u1EE3p."}catch{this.error="L\u1ED7i x\u1EED l\xFD d\u1EEF li\u1EC7u."}this.loading=!1},error:r=>{this.error="L\u1ED7i: "+(r?.error?.error?.message||r.message||"Kh\xF4ng x\xE1c \u0111\u1ECBnh"),this.loading=!1}})}getQuotation(){let e=`H\xE3y cho m\u1ED9t \u0111o\u1EA1n v\u0103n t\u1EEB 7-10 c\xE2u ti\u1EBFng Anh ${this.selectedLevel} v\u1EC1 ch\u1EE7 \u0111\u1EC1 "${this.selectedTopic}". `;this.geminiService.generateContent(e).subscribe({next:a=>{try{this.dailyQuote=a?.candidates?.[0]?.content?.parts?.[0]?.text||""}catch{this.error="L\u1ED7i x\u1EED l\xFD d\u1EEF li\u1EC7u."}this.loading=!1},error:a=>{this.error="L\u1ED7i: "+(a?.error?.error?.message||a.message||"Kh\xF4ng x\xE1c \u0111\u1ECBnh"),this.loading=!1}})}static{this.\u0275fac=function(a){return new(a||t)(F(K))}}static{this.\u0275cmp=O({type:t,selectors:[["app-home-page"]],standalone:!0,features:[H],decls:31,vars:10,consts:[[1,"section","form-section"],[1,"intro"],[1,"vocab-search-form",3,"ngSubmit"],["name","level","required","",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["name","topic","required","",3,"ngModelChange","ngModel"],["type","submit",1,"button"],[4,"ngIf"],["class","error",4,"ngIf"],[1,"section"],[1,"daily-vocab"],[3,"selected","click",4,"ngFor","ngForOf"],["class","details",4,"ngIf"],[1,"daily-quote"],[1,"quote-author"],[3,"value"],[3,"click"],[1,"error"],[1,"details"],[4,"ngFor","ngForOf"],[1,"example-translation"]],template:function(a,r){a&1&&(o(0,"div",0)(1,"p",1)(2,"strong"),l(3,"H\xE3y b\u1EAFt \u0111\u1EA7u b\u1EB1ng c\xE1ch t\xECm ki\u1EBFm t\u1EEB v\u1EF1ng theo c\u1EA5p \u0111\u1ED9 v\xE0 ch\u1EE7 \u0111\u1EC1 b\u1EA1n mu\u1ED1n."),i()(),o(4,"form",2),v("ngSubmit",function(){return r.searchVocab()}),o(5,"label"),l(6," Level: "),o(7,"select",3),P("ngModelChange",function(g){return b(r.selectedLevel,g)||(r.selectedLevel=g),g}),p(8,Y,2,2,"option",4),i()(),o(9,"label"),l(10," Subject: "),o(11,"select",5),P("ngModelChange",function(g){return b(r.selectedTopic,g)||(r.selectedTopic=g),g}),p(12,Z,2,2,"option",4),i()(),o(13,"button",6),l(14,"Search"),i()(),p(15,te,5,1,"div",7)(16,ie,2,0,"div",7)(17,ne,2,1,"div",8),i(),o(18,"div",9)(19,"div",10)(20,"h2"),l(21,"H\u1ECDc 10 t\u1EEB v\u1EF1ng h\xF4m nay"),i(),o(22,"ul"),p(23,oe,2,3,"li",11),i()(),p(24,se,6,4,"div",12),i(),o(25,"div",9)(26,"div",13)(27,"h2"),l(28,"\u0110o\u1EA1n v\u0103n h\xF4m nay"),i(),p(29,me,3,1,"div",12),i(),E(30,"div",14),i()),a&2&&(n(7),S("ngModel",r.selectedLevel),n(),d("ngForOf",r.levels),n(3),S("ngModel",r.selectedTopic),n(),d("ngForOf",r.topics),n(3),d("ngIf",r.searchedWords.length),n(),d("ngIf",r.searchLoading),n(),d("ngIf",r.searchError),n(6),d("ngForOf",r.dailyWords),n(),d("ngIf",r.selectedWord),n(5),d("ngIf",r.dailyQuote))},dependencies:[W,I,T,j,B,q,Q,$,N,V,R,A,k,z,G],styles:[".form-section[_ngcontent-%COMP%]   .intro[_ngcontent-%COMP%]{font-size:1.2rem;color:#000;margin-bottom:1rem}.form-section[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:20px}.form-section[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{margin-left:8px}.daily-vocab[_ngcontent-%COMP%]{margin:2rem 0}.daily-vocab[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem;list-style:none;padding:0}.daily-vocab[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background:#daf1f2;color:#05949d;font-size:18px;padding:.5rem 1.2rem;border-radius:20px;cursor:pointer;font-weight:500;transition:background .2s,color .2s;border:2px solid transparent}.daily-vocab[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%], .daily-vocab[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background:#5acac8;color:#fff;border:2px solid #09aaac}.details[_ngcontent-%COMP%]{margin-top:2rem;padding:1.5rem;border-radius:12px;border:1px solid #afe7e6;margin-left:auto;margin-right:auto;font-size:1.1rem;box-shadow:0 2px 8px #0000000f}.daily-quote[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{font-size:18px;line-height:24px}.error[_ngcontent-%COMP%]{color:#d32f2f;margin-top:1rem}"]})}}return t})();var U=[{path:"",component:J}];var be=(()=>{class t{static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275mod=w({type:t})}static{this.\u0275inj=M({imports:[L.forChild(U),D]})}}return t})();export{be as HomeModule};
